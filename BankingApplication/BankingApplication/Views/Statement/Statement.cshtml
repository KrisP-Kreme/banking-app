@model BankingApplication.ViewModels.StatementViewModel

<h2>Statement for Account @Model.AccountNumber</h2>

<p>Account Type: @Model.Account.AccountType</p>
<p>Current Balance: $@Model.Account.Balance.ToString("0.00")</p>

<table class="table table-bordered">
    <thead>
        <tr>
            <th>Transaction ID</th>
            <th>Type</th>
            <th>Account</th>
            <th>Destination Account</th>
            <th>Amount</th>
            <th>Transaction Time</th>
            <th>Comment</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var tx in Model.Transactions)
        {
            <tr>
                <td>@tx.TransactionID</td>
                <td>@tx.TransactionType</td>
                <td>@tx.AccountNumber</td>
                <td>@(tx.DestinationAccountNumber?.ToString() ?? "-")</td>
                <td>$@tx.Amount.ToString("0.00")</td>
                <td>@tx.TransactionTimeUtc.ToLocalTime().ToString("dd/MM/yyyy hh:mm tt")</td>
                <td>@tx.Comment</td>
            </tr>
        }
    </tbody>
</table>

<div>
    @if (Model.CurrentPage > 1)
    {
        <a asp-action="Statement" asp-route-accountNumber="@Model.AccountNumber" asp-route-page="@(Model.CurrentPage - 1)" class="btn btn-secondary">Previous</a>
    }

    @if (Model.CurrentPage < Model.TotalPages)
    {
        <a asp-action="Statement" asp-route-accountNumber="@Model.AccountNumber" asp-route-page="@(Model.CurrentPage + 1)" class="btn btn-secondary">Next</a>
    }
</div>
