@model BankingApplication.ViewModels.StatementViewModel
@{
    ViewData["Title"] = "Statement";
}

<div class="container my-5">
    <div class="text-center mb-4">
        <h1 class="fw-bold text-teal">
            Statement for Account @Model.AccountNumber
         </h1>


        <p>Account Type: <strong>@Model.Account.AccountType</strong></p>
        <p>Current Balance: <strong>$@Model.Account.Balance.ToString("0.00")</strong></p>

    </div>

    <div class="card shadow-sm border-0 rounded-4">
        <div class="fw-bold card-header text-white text-center fw-semibold" style="background-color: #0ed2f7; border-top-left-radius: 1rem; border-top-right-radius: 1rem;">
            Your Statement
        </div>
        <div class="card-body bg-light rounded-bottom-4">
            <div class="table-responsive">
                <table class="table table-hover align-middle">
                    <thead class="table-light">
                        <tr>
                            <th>Transaction ID</th>
                            <th>Type</th>
                            <th>Account</th>
                            <th>Destination Account</th>
                            <th>Amount</th>
                            <th>Transaction Time</th>
                            <th>Comment</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var tx in Model.Transactions)
                        {
                            <tr>
                                <td>@tx.TransactionID</td>
                                <td>@tx.TransactionType</td>
                                <td>@tx.AccountNumber</td>
                                <td>@(tx.DestinationAccountNumber?.ToString() ?? "-")</td>
                                <td>$@tx.Amount.ToString("0.00")</td>
                                <td>@tx.TransactionTimeUtc.ToLocalTime().ToString("dd/MM/yyyy hh:mm tt")</td>
                                <td>@tx.Comment</td>
                            </tr>
                        }
                    </tbody>
                </table>

                <div>
                    @if (Model.CurrentPage > 1)
                    {
                        <a asp-action="Statement" asp-route-accountNumber="@Model.AccountNumber" asp-route-page="@(Model.CurrentPage - 1)" class="btn btn-secondary">Previous</a>
                    }

                    @if (Model.CurrentPage < Model.TotalPages)
                    {
                        <a asp-action="Statement" asp-route-accountNumber="@Model.AccountNumber" asp-route-page="@(Model.CurrentPage + 1)" class="btn btn-secondary">Next</a>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
